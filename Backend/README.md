# Backend Structure

### Database Schema

**Users Table**

| Column          | Data Type     | Constraints                | Description                             |
|-----------------|---------------|-----------------------------|-----------------------------------------|
| `user_id`       | `INT`         | `IDENTITY(1,1) NOT NULL PRIMARY KEY` | Unique identifier for the user.          |
| `username`      | `VARCHAR(255)` | `NOT NULL`                  | User's username.                         |
| `email`         | `VARCHAR(255)` | `NOT NULL`                  | User's email address.                   |
| `phone_number`  | `VARCHAR(20)`  | `NULL`                      | User's phone number.                    |
| `password_hash` | `VARCHAR(255)` | `NOT NULL`                  | Hash of the user's password.            |
| `profile_picture` | `VARCHAR(255)` | `NULL`                    | URL to the user's profile picture.      |
| `bio`           | `VARCHAR(255)` | `NULL`                      | User's biography or description.        |
| `social_id`     | `VARCHAR(255)` | `NULL`                      | User's social media ID (if applicable). |
| `created_at`    | `DATETIME2`    | `NOT NULL`                  | Date and time when the user was created. |
| `user_type`     | `VARCHAR(255)` | `NOT NULL`                  | Type of user (e.g., seller, buyer).     |
| `rating`        | `FLOAT`        | `NULL DEFAULT 0.0`          | User's rating score.                    |
| `is_verified`   | `BIT`          | `NULL DEFAULT 0`            | Indicates if the user is verified.      |

**Notifications Table**

| Column             | Data Type      | Constraints                | Description                                |
|--------------------|----------------|----------------------------|--------------------------------------------|
| `notification_id`  | `INT`          | `IDENTITY(1,1) NOT NULL PRIMARY KEY` | Unique identifier for the notification.   |
| `user_id`          | `INT`          | `NULL`                     | ID of the user associated with the notification. |
| `message`          | `TEXT`         | `NULL`                     | Content of the notification.              |
| `notification_type`| `VARCHAR(50)`  | `NULL`                     | Type of notification (e.g., alert, info). |
| `sent_at`          | `DATETIME2`    | `NOT NULL`                 | Date and time when the notification was sent. |
| `is_read`          | `BIT`          | `NULL`                     | Indicates if the notification has been read. |

**Revenue Table**

| Column             | Data Type       | Constraints                | Description                             |
|--------------------|-----------------|----------------------------|-----------------------------------------|
| `revenue_id`       | `INT`         | `IDENTITY(1,1) NOT NULL PRIMARY KEY` | Unique identifier for the revenue.          |
| `user_id`          | `INT`           | `NULL`                     | ID of the user associated with the revenue. |
| `total_income`     | `DECIMAL(18,2)` | `NULL`                     | Total income generated by the user.     |
| `last_updated`     | `DATETIME2`     | `NOT NULL`                 | Date and time when the revenue was last updated. |

**Tickets Table**

| Column             | Data Type       | Constraints                | Description                                |
|--------------------|-----------------|----------------------------|--------------------------------------------|
| `ticket_id`        | `INT`           | `IDENTITY(1,1) NOT NULL PRIMARY KEY` | Unique identifier for the ticket.         |
| `seller_id`        | `INT`           | `NULL`                     | ID of the user selling the ticket.        |
| `name`             | `VARCHAR(255)`  | `NULL`                     | Name or title of the ticket.              |
| `event_name`       | `VARCHAR(255)`  | `NULL`                     | Name of the event for the ticket.         |
| `event_date`       | `DATETIME`      | `NULL`                     | Date and time of the event.               |
| `event_location`   | `VARCHAR(255)`  | `NULL`                     | Location of the event.                    |
| `ticket_image`     | `VARCHAR(255)`  | `NULL`                     | URL to an image of the ticket.            |
| `description`      | `VARCHAR(255)`  | `NULL`                     | Description of the ticket.                |
| `ticket_type`      | `VARCHAR(50)`   | `NULL`                     | Type of ticket (e.g., VIP, general).      |
| `original_price`   | `DECIMAL(10,2)` | `NULL`                     | Original price of the ticket.             |
| `resale_price`     | `DECIMAL(10,2)` | `NULL`                     | Resale price of the ticket.               |
| `payment_method`   | `VARCHAR(50)`   | `NULL`                     | Method of payment for the ticket.         |
| `ticket_status`    | `VARCHAR(255)`  | `NULL DEFAULT 'available'` | Status of the ticket (e.g., available, sold). |
| `posted_at`        | `DATETIME2`     | `NOT NULL`                 | Date and time when the ticket was posted. |

**Chats Table**

| Column             | Data Type      | Constraints                | Description                                |
|--------------------|----------------|----------------------------|--------------------------------------------|
| `chat_id`          | `INT`          | `IDENTITY(1,1) NOT NULL PRIMARY KEY` | Unique identifier for the chat.           |
| `sender_id`        | `INT`          | `NULL`                     | ID of the user who sent the message.      |
| `receiver_id`      | `INT`          | `NULL`                     | ID of the user who received the message.  |
| `message`          | `TEXT`         | `NULL`                     | Content of the chat message.              |
| `sent_at`          | `DATETIME2`    | `NOT NULL`                 | Date and time when the message was sent.  |
| `ticket_id`        | `INT`          | `NULL`                     | ID of the associated ticket (if any).     |

**Transactions Table**

| Column             | Data Type       | Constraints                | Description                                |
|--------------------|-----------------|----------------------------|--------------------------------------------|
| `transaction_id`   | `INT`           | `IDENTITY(1,1) NOT NULL PRIMARY KEY` | Unique identifier for the transaction.    |
| `ticket_id`        | `INT`           | `NULL`                     | ID of the ticket being bought/sold.       |
| `buyer_id`         | `INT`           | `NULL`                     | ID of the user buying the ticket.         |
| `seller_id`        | `INT`           | `NULL`                     | ID of the user selling the ticket.        |
| `transaction_date` | `DATETIME2`     | `NOT NULL`                 | Date and time when the transaction occurred. |
| `total_amount`     | `DECIMAL(10,2)` | `NULL`                     | Total amount of the transaction.          |
| `payment_status`   | `VARCHAR(255)`  | `NULL DEFAULT 'pending'`   | Status of the payment (e.g., pending, completed). |
| `transfer_method`  | `VARCHAR(50)`   | `NULL`                     | Method used for transferring funds.       |

**Ratings Table**

| Column             | Data Type       | Constraints                | Description                                |
|--------------------|-----------------|----------------------------|--------------------------------------------|
| `rating_id`        | `INT`           | `IDENTITY(1,1) NOT NULL PRIMARY KEY` | Unique identifier for the rating.         |
| `transaction_id`   | `INT`           | `NULL`                     | ID of the related transaction.            |
| `user_id`          | `INT`           | `NULL`                     | ID of the user being rated.               |
| `rating_value`     | `INT`           | `NULL`                     | Rating value (e.g., 1 to 5 stars).        |
| `comment`          | `TEXT`          | `NULL`                     | User's comment or feedback.               |
| `rated_at`         | `DATETIME2`     | `NOT NULL`                 | Date and time when the rating was given.  |
